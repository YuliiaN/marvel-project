{"version":3,"file":"static/js/98.647d8cc3.chunk.js","mappings":"kUAoBA,EAhBmB,SAAC,GAAgD,IAA9CA,EAA6C,EAA7CA,GAAIC,EAAyC,EAAzCA,MAAOC,EAAkC,EAAlCA,UAAWC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,SAC5CC,EAAQC,EAAAA,EAAAA,UAAAA,QAAyB,YAAaN,GAC9CO,EAAO,UAAML,EAAUM,KAAhB,YAAwBN,EAAUO,WACzCC,EAAQP,EAAO,GAAGO,MAAV,UAAqBP,EAAO,GAAGO,MAA/B,KAA0C,gBAExD,OACE,eAAIC,UAAWC,EAAAA,EAAAA,KAAf,UACE,UAAC,KAAD,CAAMC,GAAIR,EAAOS,MAAO,CAAEC,KAAMX,GAAhC,WACE,gBAAKO,UAAWC,EAAAA,EAAAA,IAASI,IAAKT,EAASU,IAAKhB,KAC5C,eAAIU,UAAWC,EAAAA,EAAAA,SAAf,SAA8BX,KAC9B,cAAGU,UAAWC,EAAAA,EAAAA,MAAd,SAA0BF,QAIjC,E,mBCuDD,EA9De,WACb,OAA4BQ,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA4BF,EAAAA,EAAAA,UAAS,GAArC,eAAOG,EAAP,KAAeC,EAAf,KACMlB,GAAWmB,EAAAA,EAAAA,MACjB,GAA8BL,EAAAA,EAAAA,WAAS,GAAvC,eAAOM,EAAP,KAAgBC,EAAhB,KAJmB,wCAUnB,WAA8BC,EAAOL,GAArC,gGAEsBM,EAAAA,EAAAA,aAAiBD,EAAOL,GAF9C,OAEUO,EAFV,OAGIR,GAAU,SAAAS,GACR,OAAQR,EAAD,kBAAoBQ,IAApB,OAAmCD,IAAzBA,CAClB,IACDH,GAAW,GANf,gDAQIK,QAAQC,IAAI,KAAMC,SAClBP,GAAW,GATf,yDAVmB,yBAMnBQ,EAAAA,EAAAA,YAAU,YANS,sCAOjBC,CAAe,GAAIb,EACpB,GAAE,CAACA,IAeJ,IAAMc,EAAcC,KAAS,WAC3Bd,GAAU,SAAAe,GAAS,OAAIA,EAAY,EAAhB,GACpB,GAAE,KAEH,OACE,oBAASC,MAAO,CAAEC,QAAS,eAA3B,UACE,UAAC,IAAD,WACGf,IAAW,SAACgB,EAAA,EAAD,MACTrB,EAAOsB,SAAWjB,IACnB,iCACE,eAAIb,UAAWC,EAAAA,EAAAA,KAAf,SACGO,EAAOuB,KAAI,gBAAG1C,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAOC,EAAd,EAAcA,UAAWC,EAAzB,EAAyBA,OAAzB,OACV,SAAC,EAAD,CAEEH,GAAIA,EACJC,MAAOA,EACPC,UAAWA,EACXC,OAAQA,EACRC,SAAUA,IALLuC,EAAAA,EAAAA,MAFG,OAWd,SAAC,KAAD,CACEL,MAAO,CACLM,QAAS,QACTC,MAAO,QACPC,OAAQ,eAEVC,QAASZ,EANX,UAQE,SAAC,KAAD,iCAOb,C","sources":["views/Comics/ComicsItem.js","views/Comics/Comics.js"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport { routes } from 'routes';\nimport css from './Comics.module.css';\n\nconst ComicsPage = ({ id, title, thumbnail, prices, location }) => {\n  const route = routes.COMICS_ID.replace(':comicsId', id);\n  const imgPath = `${thumbnail.path}.${thumbnail.extension}`;\n  const price = prices[0].price ? `${prices[0].price}$` : 'not available';\n\n  return (\n    <li className={css.item}>\n      <Link to={route} state={{ from: location }}>\n        <img className={css.img} src={imgPath} alt={title} />\n        <h2 className={css.subtitle}>{title}</h2>\n        <p className={css.price}>{price}</p>\n      </Link>\n    </li>\n  );\n};\n\nexport default ComicsPage;\n","import { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { nanoid } from 'nanoid';\nimport debounce from 'debounce';\nimport { api } from 'components/Hero/Hero';\nimport css from './Comics.module.css';\nimport ContainerStyled from 'components/Container/Container.styled';\nimport ComicsPage from './ComicsItem';\nimport { HeroBtn, BtnInner } from 'components/Hero/Hero.styled';\nimport Loader from 'components/Loader/Loader';\n\nconst Comics = () => {\n  const [comics, setComics] = useState([]);\n  const [offset, setOffset] = useState(0);\n  const location = useLocation();\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchAllComics(12, offset);\n  }, [offset]);\n\n  async function fetchAllComics(limit, offset) {\n    try {\n      const res = await api.getAllComics(limit, offset);\n      setComics(prevComics => {\n        return !offset ? res : [...prevComics, ...res];\n      });\n      setLoading(false);\n    } catch (error) {\n      console.log(error.message);\n      setLoading(false);\n    }\n  }\n\n  const handleClick = debounce(() => {\n    setOffset(prevState => prevState + 12);\n  }, 500);\n\n  return (\n    <section style={{ padding: '45px 0 50px' }}>\n      <ContainerStyled>\n        {loading && <Loader />}\n        {!!comics.length && !loading && (\n          <>\n            <ul className={css.list}>\n              {comics.map(({ id, title, thumbnail, prices }) => (\n                <ComicsPage\n                  key={nanoid()}\n                  id={id}\n                  title={title}\n                  thumbnail={thumbnail}\n                  prices={prices}\n                  location={location}\n                />\n              ))}\n            </ul>\n            <HeroBtn\n              style={{\n                display: 'block',\n                width: '170px',\n                margin: '45px auto 0',\n              }}\n              onClick={handleClick}\n            >\n              <BtnInner>Load more</BtnInner>\n            </HeroBtn>\n          </>\n        )}\n      </ContainerStyled>\n    </section>\n  );\n};\n\nexport default Comics;\n"],"names":["id","title","thumbnail","prices","location","route","routes","imgPath","path","extension","price","className","css","to","state","from","src","alt","useState","comics","setComics","offset","setOffset","useLocation","loading","setLoading","limit","api","res","prevComics","console","log","message","useEffect","fetchAllComics","handleClick","debounce","prevState","style","padding","Loader","length","map","nanoid","display","width","margin","onClick"],"sourceRoot":""}